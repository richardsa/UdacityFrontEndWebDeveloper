var Client;(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{formSubmit:()=>l,getCity:()=>i,getImage:()=>y,getWeather:()=>g}),document.getElementById("submit");const o=document.getElementById("location"),n=(document.getElementById("temp"),document.getElementById("content"),document.getElementById("search-form")),a=document.getElementById("location-img");let c=new Date;function l(t){t.preventDefault();const e=document.getElementById("city").value;Client.getCity(e).then((function(t){console.log("data12"+JSON.stringify(t));const e=t.geonames[0],o=e.name,n=e.adminCode1,a=e.countryCode,c=e.lat,l=e.lng;console.log(o),console.log(c),console.log(l),Client.getWeather(c,l).then((function(e){console.log(`res1: ${JSON.stringify(e.city_name)}`),console.log(`res1: ${JSON.stringify(e.country_code)}`),console.log(`res1: ${JSON.stringify(e.temp)}`),console.log(`res1: ${JSON.stringify(e.weather.description)}`),console.log(`count: ${JSON.stringify(e.count)}`),console.log(`res2: ${t}`),Client.getImage(o).then((function(t){console.log("imageRes"+t.largeImageURL);const e=t.largeImageURL;s("/add",{city:o,state:n,country:a,image:e}).then((function(){r("all")}))}))}))}))}c.getMonth(),c.getDate(),c.getFullYear();const s=async(t,e)=>{const o=await fetch(t,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});try{return await o.json()}catch(t){console.log("Something went wrong!",t)}},r=async t=>{const e=await fetch(t);try{const t=await e.json(),n=t.data.city,c=(t.data.state,t.data.country,t.data.image);console.log("update ui"+c),o.innerHTML=`Date: ${n}`,a.innerHTML=`<img src="${c}" class="results-img" />`}catch(t){console.log("error",t)}};n.addEventListener("submit",l);const i=async t=>{let e=`http://localhost:3000/cities/${t}`;const o=await fetch(e);try{const t=await o.json();return console.log(t),t}catch(t){console.log("error",t)}},g=async(t,e)=>{const o=`http://localhost:3000/weather/?lat=${t}&lon=${e}`,n=await fetch(o);try{const t=await n.json();return console.log(t.data[0]),t.data[0]}catch(t){console.log("error",t)}},y=async t=>{let e=`http://localhost:3000/images/${t}`;const o=await fetch(e);try{const t=await o.json();return console.log(t),t}catch(t){console.log("error",t)}};Client=e})();